{"version":3,"sources":["Components/OnePerson/OnePerson.js","Pages/People/People.js","media/Eclipse-1s-200px.svg","Components/Pagination/Pagination.js","api/SWAPI.js","api/APIUtils.js","Hook/usePeople.js"],"names":["React","memo","withTranslation","_ref","person","t","react_default","a","createElement","className","birth_year","created","edited","eye_color","films","toString","gender","hair_color","height","homeworld","mass","name","skin_color","species","starships","url","vehicles","People","_useState","useState","_useState2","Object","slicedToArray","page","setPage","_usePeople","usePeople","concat","_usePeople2","isLoading","error","people","count","Fragment","Pagination","activePage","pageSize","Eclipse_1s_200px","map","Components_OnePerson_OnePerson","key","__webpack_require__","d","__webpack_exports__","ForwardRef","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","ng-attr-d","ng-attr-fill","stroke","fill","transform","attributeName","type","calcMode","values","keyTimes","dur","begin","repeatCount","SvgEclipse1S200Px","svgRef","props","width","viewBox","preserveAspectRatio","style","background","ref","forwardRef","p","react__WEBPACK_IMPORTED_MODULE_1___default","_home_olegann_React_spawi2_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","Array","Math","ceil","item","index","onClick","getResource","asyncToGenerator","regenerator_default","mark","_callee","query","myCancelToken","res","wrap","_context","prev","next","axios","cancelToken","sent","abrupt","t0","stop","_x","_x2","peopleQuery","setError","_useState3","_useState4","setIsLoading","_useState5","_useState6","setCount","_useState7","_useState8","setPeople","useEffect","signal","CancelToken","_fetchData","data","token","results","response","status","isCancel","console","log","message","fetchData","cancel"],"mappings":"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","file":"static/js/4.2c551f9c.chunk.js","sourcesContent":["import React from 'react'\nimport './OnePerson.scss'\nimport {PropTypes as T} from 'prop-types'\nimport {withTranslation} from 'react-i18next'\n\nconst OnePerson = ({person, t}) => {\n  return (\n    <div className='one-person-wrapper'>\n      <div>\n        <p>{t('birth_year')}</p>\n        {person.birth_year}\n      </div>\n      <div>\n        <p>{t('created')}</p>\n        {person.created}\n      </div>\n      <div>\n        <p>{t('edited')}</p>\n        {person.edited}\n      </div>\n      <div>\n        <p>{t('eye_color')}</p>\n        {person.eye_color}\n      </div>\n      <div>\n        <p>films</p>\n        {person.films.toString()}\n      </div>\n      <div>\n        <p>gender</p>\n        {person.gender}\n      </div>\n      <div>\n        <p>hair_color</p>\n        {person.hair_color}\n      </div>\n      <div>\n        <p>height</p>\n        {person.height}\n      </div>\n      <div>\n        <p>homeworld</p>\n        {person.homeworld}\n      </div>\n      <div>\n        <p>mass</p>\n        {person.mass}\n      </div>\n      <div>\n        <p>name</p>\n        {person.name}\n      </div>\n      <div>\n        <p>skin_color</p>\n        {person.skin_color}\n      </div>\n      <div>\n        <p>species</p>\n        {person.species.toString()}\n      </div>\n      <div>\n        <p>starships</p>\n        {person.starships.toString()}\n      </div>\n      <div>\n        <p>url</p>\n        {person.url}\n      </div>\n      <div>\n        <p>vehicles</p>\n        {person.vehicles.toString()}\n      </div>\n    </div>\n  )\n}\n\nOnePerson.propTypes = {\n  person: T.object,\n  t: T.func,\n}\n\nexport default React.memo(withTranslation()(OnePerson))\n","import React, {useState} from 'react'\nimport {usePeople} from '../../Hook/usePeople'\nimport {ReactComponent as Logo} from '../../media/Eclipse-1s-200px.svg'\nimport OnePerson from '../../Components/OnePerson/OnePerson'\nimport Pagination from '../../Components/Pagination/Pagination'\n\nconst People = () => {\n  const [page, setPage] = useState(1)\n  const [isLoading, error, people, count] = usePeople(`people/?page=${page}`)\n  const pageSize = 10\n\n  return (\n    <>\n      <Pagination\n        setPage={setPage}\n        count={count}\n        activePage={page}\n        pageSize={pageSize}\n      />\n      {isLoading ? <Logo /> : null}\n      {people && !isLoading\n        ? people.map(person => <OnePerson key={person.url} person={person} />)\n        : null}\n      {error}\n    </>\n  )\n}\n\nexport default People\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  \"ng-attr-d\": \"{{config.pathCmd}}\",\n  \"ng-attr-fill\": \"{{config.color}}\",\n  stroke: \"none\",\n  d: \"M10 50A40 40 0 0 0 90 50A40 42 0 0 1 10 50\",\n  fill: \"#eca611\",\n  transform: \"rotate(329.857 50 51)\"\n}, React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"rotate\",\n  calcMode: \"linear\",\n  values: \"0 50 51;360 50 51\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"0s\",\n  repeatCount: \"indefinite\"\n}));\n\nvar SvgEclipse1S200Px = function SvgEclipse1S200Px(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"200px\",\n    height: \"200px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    className: \"lds-eclipse\",\n    style: {\n      background: \"none\"\n    },\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEclipse1S200Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Eclipse-1s-200px.237b2fc0.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport './Pagination.scss'\nimport {PropTypes as T} from 'prop-types'\n\nconst Pagination = ({pageSize, count, activePage, setPage}) => {\n  return count ? (\n    <div className='wrapper-pagination'>\n      {[...Array(Math.ceil(count / pageSize))].map((item, index) => (\n        <button\n          type='submit'\n          // eslint-disable-next-line react/no-array-index-key\n          key={index}\n          className={index + 1 === activePage ? 'activePage' : ''}\n          onClick={() => setPage(index + 1)}\n        >\n          {index + 1}\n        </button>\n      ))}\n    </div>\n  ) : null\n}\n\nPagination.propTypes = {\n  pageSize: T.number.isRequired,\n  activePage: T.number.isRequired,\n  count: T.number,\n  setPage: T.func,\n}\n\nexport default React.memo(Pagination)\n","/* eslint-disable no-useless-catch */\nimport axios from 'axios'\nimport {RESOURCE} from './APIUtils'\n\nexport const getResource = async (query, myCancelToken) => {\n  try {\n    const res = await axios(`${RESOURCE}/${query}`, {\n      cancelToken: myCancelToken,\n    })\n    return res\n  } catch (err) {\n    throw err\n  }\n}\n","export const RESOURCE = 'https://swapi.co/api'\n","/* eslint-disable no-console */\nimport {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport {getResource} from '../api/SWAPI'\n\nexport const usePeople = peopleQuery => {\n  const [error, setError] = useState(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [count, setCount] = useState(null)\n  const [people, setPeople] = useState(null)\n\n  useEffect(() => {\n    setIsLoading(true)\n    const signal = axios.CancelToken.source()\n    async function fetchData() {\n      try {\n        const res = await getResource(peopleQuery, signal.token)\n        if (res.data) {\n          const {data} = res\n          setIsLoading(null)\n          setCount(data.count)\n          setPeople(data.results)\n        } else if (res.response) {\n          setIsLoading(null)\n          setError(`Error.Error status: ${res.response.status}`)\n        }\n      } catch (e) {\n        if (axios.isCancel(e)) {\n          console.log('Error: ', e.message)\n        } else {\n          setIsLoading(null)\n          setError(`Error:${e.message}`)\n        }\n      }\n    }\n    fetchData()\n    return () => {\n      signal.cancel('Operation canceled by the user.')\n    }\n  }, [peopleQuery])\n\n  return [isLoading, error, people, count]\n}\n"],"sourceRoot":""}